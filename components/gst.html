<!-- GST MANAGEMENT COMPONENT -->
<section id="gst" class="hidden p-4">
  <div class="content-header">
    <div>
      <h2><i class="pi pi-percentage"></i> GST Management</h2>
      <p style="color: var(--gray-600); margin: 0;">Comprehensive tax compliance, automated calculations, and return filing</p>
    </div>
    <div class="actions">
      <div class="btn-group">
        <button class="btn btn-primary" onclick="openGstReturnModal()">
          <i class="pi pi-plus"></i> File Return
        </button>
        <button class="btn btn-secondary" onclick="openGstCalculatorModal()">
          <i class="pi pi-calculator"></i> Tax Calculator
        </button>
        <button class="btn btn-info" onclick="openGstReportsModal()">
          <i class="pi pi-chart-bar"></i> Reports
        </button>
        <button class="btn btn-warning" onclick="openGstSettingsModal()">
          <i class="pi pi-cog"></i> Settings
        </button>
      </div>
      <button class="btn btn-secondary" onclick="backToDashboard()">
        <i class="pi pi-arrow-left"></i> Back
      </button>
    </div>
  </div>

  <!-- Compliance Alerts -->
  <div id="gstAlerts" class="alerts-container" style="margin-bottom: 1.5rem;"></div>

  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-value" id="totalGstCollected">₹0</div>
      <div class="stat-label">Total GST Collected</div>
      <div class="stat-trend" id="gstCollectedTrend">
        <i class="pi pi-arrow-up"></i> +12.5%
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="totalGstPaid">₹0</div>
      <div class="stat-label">GST Paid</div>
      <div class="stat-trend" id="gstPaidTrend">
        <i class="pi pi-arrow-up"></i> +8.2%
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="totalGstPayable">₹0</div>
      <div class="stat-label">GST Payable</div>
      <div class="stat-trend" id="gstPayableTrend">
        <i class="pi pi-arrow-down"></i> -5.1%
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="returnsFiledCount">0</div>
      <div class="stat-label">Returns Filed</div>
      <div class="stat-trend" id="returnsTrend">
        <i class="pi pi-arrow-up"></i> +2 this month
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="pendingReturnsCount">0</div>
      <div class="stat-label">Pending Returns</div>
      <div class="stat-trend" id="pendingTrend">
        <i class="pi pi-exclamation-triangle"></i> Due Soon
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-value" id="complianceScore">0%</div>
      <div class="stat-label">Compliance Score</div>
      <div class="stat-trend" id="complianceTrend">
        <i class="pi pi-check-circle"></i> Excellent
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions-grid" style="margin-bottom: 1.5rem;">
    <div class="quick-action-card" onclick="openGstCalculatorModal()">
      <i class="pi pi-calculator"></i>
      <h4>Tax Calculator</h4>
      <p>Calculate GST for any amount</p>
    </div>
    <div class="quick-action-card" onclick="openGstReturnModal()">
      <i class="pi pi-file-edit"></i>
      <h4>File Return</h4>
      <p>Submit GST returns online</p>
    </div>
    <div class="quick-action-card" onclick="openGstReportsModal()">
      <i class="pi pi-chart-line"></i>
      <h4>Tax Reports</h4>
      <p>Generate comprehensive reports</p>
    </div>
    <div class="quick-action-card" onclick="openGstSettingsModal()">
      <i class="pi pi-cog"></i>
      <h4>Settings</h4>
      <p>Configure tax rates & compliance</p>
    </div>
  </div>

  <div class="dashboard-cards">
    <div class="dashboard-card-half">
      <div class="card">
        <div class="card-header">
          <h3>Return Filing Status</h3>
          <button class="btn btn-sm btn-outline" onclick="refreshGstStatus()">
            <i class="pi pi-refresh"></i> Refresh
          </button>
        </div>
        <div id="gstReturnStatus" style="margin: 1rem 0;">
          <!-- Dynamic content will be loaded here -->
        </div>
      </div>
    </div>
    
    <div class="dashboard-card-half">
      <div class="card">
        <div class="card-header">
          <h3>Tax Rate Breakdown</h3>
          <button class="btn btn-sm btn-outline" onclick="openGstSettingsModal()">
            <i class="pi pi-cog"></i> Configure
          </button>
        </div>
        <div id="gstRateBreakdown" style="margin: 1rem 0;">
          <!-- Dynamic content will be loaded here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Advanced Analytics -->
  <div class="analytics-section" style="margin-top: 1.5rem;">
    <div class="analytics-main">
      <div class="card">
        <div class="card-header">
          <h3>GST Analytics Dashboard</h3>
          <div class="btn-group">
            <button class="btn btn-sm btn-outline active" onclick="switchGstChart('monthly')">Monthly</button>
            <button class="btn btn-sm btn-outline" onclick="switchGstChart('quarterly')">Quarterly</button>
            <button class="btn btn-sm btn-outline" onclick="switchGstChart('yearly')">Yearly</button>
          </div>
        </div>
        <div id="gstAnalyticsChart" style="height: 300px; padding: 1rem;">
          <!-- Chart will be rendered here -->
          <div class="chart-placeholder">
            <i class="pi pi-chart-bar" style="font-size: 3rem; color: var(--gray-400);"></i>
            <p>GST Analytics Chart</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="analytics-sidebar">
      <div class="card">
        <h3>Compliance Alerts</h3>
        <div id="gstComplianceAlerts">
          <!-- Dynamic alerts will be loaded here -->
        </div>
      </div>
    </div>
  </div>

  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>GSTIN</th>
          <th>Return</th>
          <th>Period</th>
          <th>Taxable Value</th>
          <th>IGST</th>
          <th>CGST</th>
          <th>SGST</th>
          <th>Total</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="gstTbody"></tbody>
    </table>
  </div>
</section>
